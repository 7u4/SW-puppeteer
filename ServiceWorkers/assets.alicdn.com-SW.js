!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__createBinding",(function(){return p})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return b})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return S})),n.d(t,"__importStar",(function(){return O})),n.d(t,"__importDefault",(function(){return T})),n.d(t,"__classPrivateFieldGet",(function(){return E})),n.d(t,"__classPrivateFieldSet",(function(){return A}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var o,i=new Promise((function(i,a){n(o=e[t].apply(e,r)).then(i,a)}));return i.request=o,i}function o(e,t,n){var o=r(e,t,n);return o.then((function(e){if(e)return new l(e,o.request)}))}function i(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,o){o.forEach((function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function h(e){this._db=e}i(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},i(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},i(p,"_tx",["objectStoreNames","mode"]),s(p,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},i(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),h.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},i(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],o=this._store||this._index,i=o[e].apply(o,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})}))})),[u,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(o){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():o(r)):o(r)}))}))})})),e.openDb=function(e,t,n){var o=r(indexedDB,"open",[e,t]),i=o.request;return i&&(i.onupgradeneeded=function(e){n&&n(new d(i.result,e.oldVersion,i.transaction))}),o.then((function(e){return new h(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var i=e[o],a=o+1<e.length,s=a?e[o+1]:0,c=o+2<e.length,u=c?e[o+2]:0,l=i>>2,f=(3&i)<<4|s>>4,p=(15&s)<<2|u>>6,d=63&u;c||(d=64,a||(p=64)),r.push(n[l],n[f],n[p],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){var a=((7&o)<<18|(63&(i=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{i=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var i=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0,s=++o<e.length?n[e.charAt(o)]:64,c=++o<e.length?n[e.charAt(o)]:64;if(++o,null==i||null==a||null==s||null==c)throw Error();var u=i<<2|a>>4;if(r.push(u),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}}var h=function(e){function t(n,r){var o=e.call(this,r)||this;return o.code=n,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return r.__extends(t,e),t}(Error),v=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},o=this.service+"/"+e,i=this.errors[e],a=i?g(i,r):"Error",s=this.serviceName+": "+a+" ("+o+").",c=new h(o,s),u=0,l=Object.keys(r);u<l.length;u++){var f=l[u];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=r[f])}return c},e}();function g(e,t){return e.replace(m,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},o="";try{var i=e.split(".");t=y(u(i[0])||""),n=y(u(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:o}};var _=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var o=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(o<<1|o>>>31)}var i,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^c&(u^l),a=1518500249):(i=c^u^l,a=1859775393):r<60?(i=c&u|l&(c|u),a=2400959708):(i=c^u^l,a=3395469782);o=(s<<5|s>>>27)+i+f+a+n[r]&4294967295;f=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=o}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,i=this.inbuf_;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++r,++i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++r,++i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}();var w=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}})),this.observers.push(r),i},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function S(){}function O(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var o=e+" failed: ";return o+=r+" argument "}t.CONSTANTS=o,t.Deferred=f,t.ErrorFactory=v,t.FirebaseError=h,t.Sha1=_,t.assert=i,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return c.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new w(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=O,t.getUA=p,t.isAdmin=function(e){var t=b(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return p().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},t.isNode=d,t.isNodeSdk=function(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return p().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,o=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),o=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!o&&n>=r&&n<=o},t.issuedAtTime=function(e){var t=b(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var i=o[r];n(i[0],i[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(O(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(O(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(O(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(0),a=n(2),s=n(4),c=n(13),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",u),f=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new c.Logger("@firebase/app"),d=function(){function e(e,t,n){var r,o,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=i.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next()){var f=l.value;this._addComponent(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var h=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={});if("object"!=typeof o||null===o){o={name:o}}var i=o;void 0===i.name&&(i.name="[DEFAULT]");var s=i.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var c=new e(n,i,r);return t[s]=c,c},app:o,registerVersion:function(e,t,n){var r,o=null!==(r=f[e])&&void 0!==r?r:e;n&&(o+="-"+n);var i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){var c=['Unable to register library "'+o+'" with version "'+t+'":'];return i&&c.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),i&&a&&c.push("and"),a&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new s.Component(o+"-version",(function(){return{library:o,version:t}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});c.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.16.0",INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function o(e){if(e=e||"[DEFAULT]",!a.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function u(s){var c,u,f=s.name;if(n.has(f))return p.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===s.type?r[f]:null;if(n.set(f,s),"PUBLIC"===s.type){var d=function(e){if(void 0===e&&(e=o()),"function"!=typeof e[f])throw l.create("invalid-app-argument",{appName:f});return e[f]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),r[f]=d,e.prototype[f]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,f);return n.apply(this,s.multipleInstances?e:[])}}try{for(var h=i.__values(Object.keys(t)),v=h.next();!v.done;v=h.next()){var g=v.value;t[g]._addComponent(s)}}catch(e){c={error:e}}finally{try{v&&!v.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}return"PUBLIC"===s.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),o.App=e,r}(d);return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=h.initializeApp;h.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,e)};var y=h;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.8",t),e.registerVersion("fire-js","")}(y),t.default=y,t.firebase=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),i=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new o.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,o=t.optional,i=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(i);if(!a){if(o)return null;throw Error("Service "+this.name+" is not available")}return a}catch(e){if(o)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(e){}try{for(var o=r.__values(this.instancesDeferred.entries()),i=o.next();!i.done;i=o.next()){var a=r.__read(i.value,2),s=a[0],c=a[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}();var s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=i,t.ComponentContainer=s,t.Provider=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.dbRemove=t.dbSet=t.dbGet=void 0;var i=n(1),a=null;function s(){return a||(a=i.openDb("web-push-client",2,(function(e){e.createObjectStore("web-push")}))),a}t.dbGet=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,s()];case 1:return[4,t.sent().transaction("web-push").objectStore("web-push").get(e)];case 2:return[2,t.sent()]}}))}))},t.dbSet=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,s()];case 1:return n=o.sent(),[4,(r=n.transaction("web-push","readwrite")).objectStore("web-push").put(t,e)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2,t]}}))}))},t.dbRemove=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,s()];case 1:return t=r.sent(),[4,(n=t.transaction("web-push","readwrite")).objectStore("web-push").delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.jump=t.hasVisibleClients=t.getClientList=t.showNotification=t.setToken=void 0;var a=n(5);function s(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}t.setToken=function(e,t,n,r,s){var c,u;return void 0===n&&(n=!0),void 0===r&&(r=!1),o(this,void 0,void 0,(function(){var r,o,l,f,p,d;return i(this,(function(i){switch(i.label){case 0:return r=e.getData("api"),o=e.getData("cache-token"),l=e.getData("cache-deviceInfo"),"denied"!==Notification.permission||""!==t?[3,2]:[4,a.dbGet("permission")];case 1:if("denied"===(null===(c=i.sent())||void 0===c?void 0:c.permission))return e.end(),[2];a.dbSet("permission",{permission:Notification.permission}),i.label=2;case 2:return!e.getData("forceUpdateCache")&&o.isEqual(t)&&""!==t?[3,6]:[4,e.config.getToken()];case 3:return f=i.sent(),[4,r.setDeviceInfo({token:t,channel:e.config.isPc?"pc":"msite",browserId:f,lang:navigator.language,domain:location.hostname,permit:JSON.stringify(n)})];case 4:return p=i.sent(),(null===(u=null==p?void 0:p.data)||void 0===u?void 0:u.result)?[4,r.findDeviceInfo(f,location.hostname)]:[3,6];case 5:d=i.sent(),Object.keys(null==d?void 0:d.data).length&&(o.set(t),l.set({deviceInfo:d,time:Date.now()}),console.log(s),s&&s()),i.label=6;case 6:return[2]}}))}))},t.showNotification=function(e,t,n){var s,c,u,l,f,p,d,h,v;return void 0===n&&(n={}),o(this,void 0,void 0,(function(){var o,g;return i(this,(function(i){switch(i.label){case 0:return console.log(n),(o={}).tag=null!==(c=null===(s=null==n?void 0:n.data)||void 0===s?void 0:s.msgId)&&void 0!==c?c:"messageid",[4,a.dbGet("direction")];case 1:g=i.sent();try{o.actions=JSON.parse(null===(u=null==n?void 0:n.data)||void 0===u?void 0:u.actions),o.actions=o.actions.filter((function(e){return Object.keys(e).length})).map((function(e,t){return r(r({},e),{action:"action"+t})})),t.getData("api").log({msgId:o.tag,event:"a2g0n.push.accept"})}catch(e){}return o.body=null===(l=null==n?void 0:n.data)||void 0===l?void 0:l.body,o.badge=null===(f=null==n?void 0:n.data)||void 0===f?void 0:f.badge,o.icon=null===(p=null==n?void 0:n.data)||void 0===p?void 0:p.icon,o.image=null===(d=null==n?void 0:n.data)||void 0===d?void 0:d.image,o.image=null===(h=null==n?void 0:n.data)||void 0===h?void 0:h.image,o.dir=(null==g?void 0:g.direction)||"ltr",o.data=n,console.log(o.actions),e.showNotification(null===(v=null==n?void 0:n.data)||void 0===v?void 0:v.title,r({},o)),[2]}}))}))},t.getClientList=s,t.hasVisibleClients=function(e,t){return e.some((function(e){var n=new URL(e.url);return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")&&t.indexOf(n.pathname)<0}))},t.jump=function(e){return o(void 0,void 0,void 0,(function(){var t,n,r;return i(this,(function(o){switch(o.label){case 0:return[4,s()];case 1:for(t=o.sent(),n=0;n<t.length;n++)if((r=t[n]).url==e&&"focus"in r)return[2,r.focus()];return clients.openWindow?[2,clients.openWindow(e)]:[2]}}))}))}},function(e,t,n){"use strict";self.window={location:{hostname:"acs.alibaba-inc.com",protocol:"https:"},parent:{location:{hostname:"acs.alibaba-inc.com"}},navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.106 Safari/537.36"},XMLHttpRequest:self.XMLHttpRequest,Promise:self.Promise}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9);t.default=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){return[2,new i.default(e)]}))}))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),c=n(11),u=n(14),l=n(15),f=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype._init=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){return this.applyLifeCycle(l.default),this.applyLifeCycle(c.default),this.applyLifeCycle(u.default),[2]}))}))},t}(s.default);t.default=f},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.def={},this.data={},this.config=e,this._init()}return e.prototype._init=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("to be extends")}))}))},e.prototype.setData=function(e,t){this.data[e]=t},e.prototype.getData=function(e){return this.data[e]},e.prototype.stopNext=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return this.def.promise=new Promise((function(t,n){e.def.resolve=t,e.def.reject=n})),[2]}))}))},e.prototype.doNext=function(){this.def.resolve&&this.def.resolve(),this.def={}},e.prototype.applyLifeCycle=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,e(this)];case 1:return t.sent(),this.def.promise?[4,this.def.promise]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.end=function(){this.stopNext()},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);n(22);var o=n(6);t.default=function(e){r.default.initializeApp(e.config.firebase);var t=r.default.messaging();t.usePublicVapidKey(e.config.publicKey),t.setBackgroundMessageHandler((function(t){o.showNotification(self.registration,e,t)}));var n=e.getData("api");self.addEventListener("notificationclick",(function(e){var t=e.notification.data,r="";if(e.action){n.log({msgId:t.data.msgId,event:"a2g0n.push."+e.action});try{var i=JSON.parse(t.data.actions);r="action0"===e.action?i[0].landingPage:i[1].landingPage}catch(e){}}else r=t.data.landingPage,n.log({msgId:t.data.msgId,event:"a2g0n.push.main"});if(!r)throw"no push jump url";e.stopPropagation(),e.preventDefault(),e.notification.close(),e.waitUntil(o.jump(r))}))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var o;n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return f})),n.d(t,"setLogLevel",(function(){return p})),n.d(t,"setUserLogHandler",(function(){return d}));var i,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},c=i.INFO,u=((o={})[i.DEBUG]="log",o[i.VERBOSE]="log",o[i.INFO]="info",o[i.WARN]="warn",o[i.ERROR]="error",o),l=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var i=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+i+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.DEBUG],e)),this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.VERBOSE],e)),this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.INFO],e)),this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.WARN],e)),this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,i.ERROR],e)),this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function p(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}},r=0,o=a;r<o.length;r++){n(o[r])}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6);console.log("patch"),t.default=function(e){self.addEventListener("push",(function(t){console.log(t),t.waitUntil(function(t){return r(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(o){switch(o.label){case 0:return[4,i.getClientList()];case 1:return n=o.sent(),i.hasVisibleClients(n,e.config.pathnames)&&i.showNotification(self.registration,e,null===(r=t.data)||void 0===r?void 0:r.json()),[2]}}))}))}(t))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0,t.api="api",t.default=function(e){e.setData(t.api,{setDeviceInfo:function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,e.config.api.saveDeviceInfo(t)];case 1:return[2,n.sent()]}}))}))},findDeviceInfo:function(t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,e.config.api.deviceFind({browserId:t,domain:n})];case 1:return[2,r.sent()]}}))}))},log:function(t){return r(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,e.config.api.log(t)];case 1:return[2,n.sent()]}}))}))}})}},function(e,t,n){var r,o;!function(i,a,s){"use strict";"undefined"!=typeof window&&n(17)?void 0===(o="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=o):e.exports?e.exports=s():a.exports?a.exports=s():a.Fingerprint2=s()}(0,this,(function(){"use strict";var e=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},t=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},n=function(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},r=function(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},o=function(e,t){return[e[0]^t[0],e[1]^t[1]]},i=function(e){return e=o(e,[0,e[0]>>>1]),e=t(e,[4283543511,3981806797]),e=o(e,[0,e[0]>>>1]),e=t(e,[3301882366,444984403]),e=o(e,[0,e[0]>>>1])},a=function(a,s){s=s||0;for(var c=(a=a||"").length%16,u=a.length-c,l=[0,s],f=[0,s],p=[0,0],d=[0,0],h=[2277735313,289559509],v=[1291169091,658871167],g=0;g<u;g+=16)p=[255&a.charCodeAt(g+4)|(255&a.charCodeAt(g+5))<<8|(255&a.charCodeAt(g+6))<<16|(255&a.charCodeAt(g+7))<<24,255&a.charCodeAt(g)|(255&a.charCodeAt(g+1))<<8|(255&a.charCodeAt(g+2))<<16|(255&a.charCodeAt(g+3))<<24],d=[255&a.charCodeAt(g+12)|(255&a.charCodeAt(g+13))<<8|(255&a.charCodeAt(g+14))<<16|(255&a.charCodeAt(g+15))<<24,255&a.charCodeAt(g+8)|(255&a.charCodeAt(g+9))<<8|(255&a.charCodeAt(g+10))<<16|(255&a.charCodeAt(g+11))<<24],p=t(p,h),p=n(p,31),p=t(p,v),l=o(l,p),l=n(l,27),l=e(l,f),l=e(t(l,[0,5]),[0,1390208809]),d=t(d,v),d=n(d,33),d=t(d,h),f=o(f,d),f=n(f,31),f=e(f,l),f=e(t(f,[0,5]),[0,944331445]);switch(p=[0,0],d=[0,0],c){case 15:d=o(d,r([0,a.charCodeAt(g+14)],48));case 14:d=o(d,r([0,a.charCodeAt(g+13)],40));case 13:d=o(d,r([0,a.charCodeAt(g+12)],32));case 12:d=o(d,r([0,a.charCodeAt(g+11)],24));case 11:d=o(d,r([0,a.charCodeAt(g+10)],16));case 10:d=o(d,r([0,a.charCodeAt(g+9)],8));case 9:d=o(d,[0,a.charCodeAt(g+8)]),d=t(d,v),d=n(d,33),d=t(d,h),f=o(f,d);case 8:p=o(p,r([0,a.charCodeAt(g+7)],56));case 7:p=o(p,r([0,a.charCodeAt(g+6)],48));case 6:p=o(p,r([0,a.charCodeAt(g+5)],40));case 5:p=o(p,r([0,a.charCodeAt(g+4)],32));case 4:p=o(p,r([0,a.charCodeAt(g+3)],24));case 3:p=o(p,r([0,a.charCodeAt(g+2)],16));case 2:p=o(p,r([0,a.charCodeAt(g+1)],8));case 1:p=o(p,[0,a.charCodeAt(g)]),p=t(p,h),p=n(p,31),p=t(p,v),l=o(l,p)}return l=o(l,[0,a.length]),f=o(f,[0,a.length]),l=e(l,f),f=e(f,l),l=i(l),f=i(f),l=e(l,f),f=e(f,l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)},s={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},c=function(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var n=0,r=e.length;n<r;n++)t(e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t(e[o],o,e)},u=function(e,t){var n=[];return null==e?n:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(c(e,(function(e,r,o){n.push(t(e,r,o))})),n)},l=function(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices},f=function(e){var t=[window.screen.width,window.screen.height];return e.screen.detectScreenOrientation&&t.sort().reverse(),t},p=function(e){if(window.screen.availWidth&&window.screen.availHeight){var t=[window.screen.availHeight,window.screen.availWidth];return e.screen.detectScreenOrientation&&t.sort().reverse(),t}return e.NOT_AVAILABLE},d=function(e){if(null==navigator.plugins)return e.NOT_AVAILABLE;for(var t=[],n=0,r=navigator.plugins.length;n<r;n++)navigator.plugins[n]&&t.push(navigator.plugins[n]);return v(e)&&(t=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))),u(t,(function(e){var t=u(e,(function(e){return[e.type,e.suffixes]}));return[e.name,e.description,t]}))},h=function(e){var t=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){t=u(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],(function(t){try{return new window.ActiveXObject(t),t}catch(t){return e.ERROR}}))}else t.push(e.NOT_AVAILABLE);return navigator.plugins&&(t=t.concat(d(e))),t},v=function(e){for(var t=!1,n=0,r=e.plugins.sortPluginsFor.length;n<r;n++){var o=e.plugins.sortPluginsFor[n];if(navigator.userAgent.match(o)){t=!0;break}}return t},g=function(e){try{return!!window.sessionStorage}catch(t){return e.ERROR}},m=function(e){try{return!!window.localStorage}catch(t){return e.ERROR}},y=function(e){try{return!!window.indexedDB}catch(t){return e.ERROR}},b=function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE},_=function(e){return navigator.cpuClass||e.NOT_AVAILABLE},w=function(e){return navigator.platform?navigator.platform:e.NOT_AVAILABLE},S=function(e){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:e.NOT_AVAILABLE},O=function(){var e,t=0;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return[t,e,"ontouchstart"in window]},T=function(e){var t=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var r=n.getContext("2d");return r.rect(0,0,10,10),r.rect(2,2,6,6),t.push("canvas winding:"+(!1===r.isPointInPath(5,5,"evenodd")?"yes":"no")),r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",e.dontUseFakeFontInCanvas?r.font="11pt Arial":r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),n.toDataURL&&t.push("canvas fp:"+n.toDataURL()),t},E=function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=B()))return null;var n=[],r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);var o=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),r.itemSize=3,r.numItems=3;var i=e.createProgram(),a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(a);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(s),e.attachShader(i,a),e.attachShader(i,s),e.linkProgram(i),e.useProgram(i),i.vertexPosAttrib=e.getAttribLocation(i,"attrVertex"),i.offsetUniform=e.getUniformLocation(i,"uniformOffset"),e.enableVertexAttribArray(i.vertexPosArray),e.vertexAttribPointer(i.vertexPosAttrib,r.itemSize,e.FLOAT,!1,0,0),e.uniform2f(i.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,r.numItems);try{n.push(e.canvas.toDataURL())}catch(e){}n.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var n=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION));try{var u=e.getExtension("WEBGL_debug_renderer_info");u&&(n.push("webgl unmasked vendor:"+e.getParameter(u.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+e.getParameter(u.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat?(c(["FLOAT","INT"],(function(t){c(["VERTEX","FRAGMENT"],(function(r){c(["HIGH","MEDIUM","LOW"],(function(o){c(["precision","rangeMin","rangeMax"],(function(i){var a=e.getShaderPrecisionFormat(e[r+"_SHADER"],e[o+"_"+t])[i];"precision"!==i&&(i="precision "+i);var s=["webgl ",r.toLowerCase()," shader ",o.toLowerCase()," ",t.toLowerCase()," ",i,":",a].join("");n.push(s)}))}))}))})),n):n},A=function(){try{var e=B(),t=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL)}catch(e){return null}},C=function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},k=function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},x=function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},R=function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,r=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0||t.indexOf("cros")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===e))return!0}return r.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||((r.indexOf("linux")>=0||r.indexOf("android")>=0||r.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||((r.indexOf("mac")>=0||r.indexOf("ipad")>=0||r.indexOf("ipod")>=0||r.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||((r.indexOf("win")<0&&r.indexOf("linux")<0&&r.indexOf("mac")<0&&r.indexOf("iphone")<0&&r.indexOf("ipad")<0)!==("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)))},P=function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"===(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var r,o=eval.toString().length;if(37===o&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===o&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===o&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),r=!0}catch(e){r=!1}}return r&&"Firefox"!==e&&"Other"!==e},N=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},I=function(){if(!N())return!1;var e=B();return!!window.WebGLRenderingContext&&!!e},D=function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},j=function(){return void 0!==window.swfobject},M=function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},L=function(e,t){window.___fp_swf_loaded=function(t){e(t)};var n=t.fonts.swfContainerId;!function(e){var t=document.createElement("div");t.setAttribute("id",e.fonts.swfContainerId),document.body.appendChild(t)}();var r={onReady:"___fp_swf_loaded"};window.swfobject.embedSWF(t.fonts.swfPath,n,"1","1","9.0.0",!1,r,{allowScriptAccess:"always",menu:"false"},{})},B=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},q=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"webdriver",getData:function(e,t){e(null==navigator.webdriver?t.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(e,t){e(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||t.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(e,t){e(window.screen.colorDepth||t.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(e,t){e(navigator.deviceMemory||t.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(e,t){e(window.devicePixelRatio||t.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(e,t){e(b(t))}},{key:"screenResolution",getData:function(e,t){e(f(t))}},{key:"availableScreenResolution",getData:function(e,t){e(p(t))}},{key:"timezoneOffset",getData:function(e){e((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(e,t){window.Intl&&window.Intl.DateTimeFormat?e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone):e(t.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(e,t){e(g(t))}},{key:"localStorage",getData:function(e,t){e(m(t))}},{key:"indexedDb",getData:function(e,t){e(y(t))}},{key:"addBehavior",getData:function(e){e(!(!document.body||!document.body.addBehavior))}},{key:"openDatabase",getData:function(e){e(!!window.openDatabase)}},{key:"cpuClass",getData:function(e,t){e(_(t))}},{key:"platform",getData:function(e,t){e(w(t))}},{key:"doNotTrack",getData:function(e,t){e(S(t))}},{key:"plugins",getData:function(e,t){D()?t.plugins.excludeIE?e(t.EXCLUDED):e(h(t)):e(d(t))}},{key:"canvas",getData:function(e,t){N()?e(T(t)):e(t.NOT_AVAILABLE)}},{key:"webgl",getData:function(e,t){I()?e(E()):e(t.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(e){I()?e(A()):e()}},{key:"adBlock",getData:function(e){e(C())}},{key:"hasLiedLanguages",getData:function(e){e(k())}},{key:"hasLiedResolution",getData:function(e){e(x())}},{key:"hasLiedOs",getData:function(e){e(R())}},{key:"hasLiedBrowser",getData:function(e){e(P())}},{key:"touchSupport",getData:function(e){e(O())}},{key:"fonts",getData:function(e,t){var n=["monospace","sans-serif","serif"],r=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];if(t.fonts.extendedJsFonts){r=r.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])}r=(r=r.concat(t.fonts.userDefinedFonts)).filter((function(e,t){return r.indexOf(e)===t}));var o=document.getElementsByTagName("body")[0],i=document.createElement("div"),a=document.createElement("div"),s={},c={},u=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML="mmmmmmmmmmlli",e},l=function(e,t){var n=u();return n.style.fontFamily="'"+e+"',"+t,n},f=function(e){for(var t=!1,r=0;r<n.length;r++)if(t=e[r].offsetWidth!==s[n[r]]||e[r].offsetHeight!==c[n[r]])return t;return t},p=function(){for(var e=[],t=0,r=n.length;t<r;t++){var o=u();o.style.fontFamily=n[t],i.appendChild(o),e.push(o)}return e}();o.appendChild(i);for(var d=0,h=n.length;d<h;d++)s[n[d]]=p[d].offsetWidth,c[n[d]]=p[d].offsetHeight;var v=function(){for(var e={},t=0,o=r.length;t<o;t++){for(var i=[],s=0,c=n.length;s<c;s++){var u=l(r[t],n[s]);a.appendChild(u),i.push(u)}e[r[t]]=i}return e}();o.appendChild(a);for(var g=[],m=0,y=r.length;m<y;m++)f(v[r[m]])&&g.push(r[m]);o.removeChild(a),o.removeChild(i),e(g)},pauseBefore:!0},{key:"fontsFlash",getData:function(e,t){return j()?M()?t.fonts.swfPath?void L((function(t){e(t)}),t):e("missing options.fonts.swfPath"):e("flash not installed"):e("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(e,t){var n=t.audio;if(n.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED);var r=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==r)return e(t.NOT_AVAILABLE);var o=new r(1,44100,44100),i=o.createOscillator();i.type="triangle",i.frequency.setValueAtTime(1e4,o.currentTime);var a=o.createDynamicsCompressor();c([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],(function(e){void 0!==a[e[0]]&&"function"==typeof a[e[0]].setValueAtTime&&a[e[0]].setValueAtTime(e[1],o.currentTime)})),i.connect(a),a.connect(o.destination),i.start(0),o.startRendering();var s=setTimeout((function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "'+navigator.userAgent+'".'),o.oncomplete=function(){},o=null,e("audioTimeout")}),n.timeout);o.oncomplete=function(t){var n;try{clearTimeout(s),n=t.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce((function(e,t){return e+Math.abs(t)}),0).toString(),i.disconnect(),a.disconnect()}catch(t){return void e(t)}e(n)}}},{key:"enumerateDevices",getData:function(e,t){if(!l())return e(t.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then((function(t){e(t.map((function(e){return"id="+e.deviceId+";gid="+e.groupId+";"+e.kind+";"+e.label})))})).catch((function(t){e(t)}))}}],F=function(e){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")};return F.get=function(e,t){t?e||(e={}):(t=e,e={}),function(e,t){if(null==t)return e;var n,r;for(r in t)null==(n=t[r])||Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n)}(e,s),e.components=e.extraComponents.concat(q);var n={data:[],addPreprocessedComponent:function(t,r){"function"==typeof e.preprocessor&&(r=e.preprocessor(t,r)),n.data.push({key:t,value:r})}},r=-1,o=function(i){if((r+=1)>=e.components.length)t(n.data);else{var a=e.components[r];if(e.excludes[a.key])o(!1);else{if(!i&&a.pauseBefore)return r-=1,void setTimeout((function(){o(!0)}),1);try{a.getData((function(e){n.addPreprocessedComponent(a.key,e),o(!1)}),e)}catch(e){n.addPreprocessedComponent(a.key,String(e)),o(!1)}}}};o(!1)},F.getPromise=function(e){return new Promise((function(t,n){F.get(e,t)}))},F.getV18=function(e,t){return null==t&&(t=e,e={}),F.get(e,(function(n){for(var r=[],o=0;o<n.length;o++){var i=n[o];if(i.value===(e.NOT_AVAILABLE||"not available"))r.push({key:i.key,value:"unknown"});else if("plugins"===i.key)r.push({key:"plugins",value:u(i.value,(function(e){var t=u(e[2],(function(e){return e.join?e.join("~"):e})).join(",");return[e[0],e[1],t].join("::")}))});else if(-1!==["canvas","webgl"].indexOf(i.key))r.push({key:i.key,value:i.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(i.key)){if(!i.value)continue;r.push({key:i.key,value:1})}else i.value?r.push(i.value.join?{key:i.key,value:i.value.join(";")}:i):r.push({key:i.key,value:i.value})}var s=a(u(r,(function(e){return e.value})).join("~~~"),31);t(s,r)}))},F.x64hash128=a,F.VERSION="2.1.0",F}))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.requestMtop=void 0;var a=n(19);a=n(20),t.requestMtop=function(e,t){return void 0===t&&(t={}),o(void 0,void 0,void 0,(function(){var t,n;return i(this,(function(o){return(t=window.lib.mtop.config).H5Request=!0,t.prefix="acs",t.subDomain="",t.mainDomain=location.hostname.indexOf("aliexpress")>=0?location.hostname.substr(location.hostname.indexOf("aliexpress")):"aliexpress.com",n=r(r({},e),{v:e.v||"1.0",encode:"1",ecode:1,CDR:!0,dataType:"json",H5Request:!0,appKey:24815441,type:e.type||"get"}),[2,a.request(n).then((function(e){return e})).catch((function(e){throw e}))]}))}))}},function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new l((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function o(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function i(e){return"[object Object]"=={}.toString.call(e)}function a(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function s(e,t,n){var r=new Date;r.setTime(r.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+r.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+r.toGMTString()}function c(e,t){for(var n=e.split("."),r=t.split("."),o=0;3>o;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}function u(e){this.id=""+(new Date).getTime()+ ++m,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=d.slice(0)}var l=e.Promise,f=(l||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var p={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},d=[],h={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),p.mainDomain=i,p.subDomain=a,p.prefix=s})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(p.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(p.AliAppName=r[1],p.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(p.AliAppName="AMAP",p.AliAppVersion=o[1])}();var v=/[Android|Adr]/.test(e.navigator.userAgent),g="AP"===p.AliAppName&&c(p.AliAppVersion,"10.1.2")>=0||"KB"===p.AliAppName&&c(p.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===p.AliAppName&&c(p.AliAppVersion,"1.0.1")>=0,m=0;u.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},u.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},u.prototype.__processRequestType=function(n){var r=this,o=this.params,a=this.options;if(!0===p.H5Request&&(a.H5Request=!0),!0===p.WindVaneRequest&&(a.WindVaneRequest=!0),!1===a.H5Request&&!0===a.WindVaneRequest){if(!g&&(!t.windvane||parseFloat(a.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(g&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===a.H5Request)a.WindVaneRequest=!1;else if(void 0===a.WindVaneRequest&&void 0===a.H5Request){if(t.windvane&&parseFloat(a.WindVaneVersion)>=5.4?a.WindVaneRequest=!0:a.H5Request=!0,g){if(a.WindVaneRequest=a.H5Request=void 0,e.AlipayJSBridge)if(i(o.data))a.WindVaneRequest=!0;else try{i(JSON.parse(o.data))?a.WindVaneRequest=!0:a.H5Request=!0}catch(e){a.H5Request=!0}else a.H5Request=!0;"AMAP"!==p.AliAppName||o.useNebulaJSbridgeWithAMAP||(a.WindVaneRequest=a.H5Request=void 0,a.H5Request=!0)}window.self!==window.top&&(a.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&a.mainDomain.indexOf("youku.com")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),a.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(a.WindVaneRequest=!1,a.H5Request=!0),n?n().then((function(){var e=a.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===a.WindVaneRequest&&g&&a.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!g||!isNaN(a.retJson.error)||-1!==a.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return g&&i(o.data)&&(o.data=JSON.stringify(o.data)),p.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);void 0===a.retJson.api&&void 0===a.retJson.v&&(a.retJson.api=o.api,a.retJson.v=o.v,a.retJson.ret=[a.retJson.error+"::"+a.retJson.errorMessage],a.retJson.data={})}})):void 0};var y="_m_h5_c",b="_m_h5_tk";u.prototype.__getTokenFromAlipay=function(){var t=n(),r=this.options,o=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===r.useAlipayJSBridge&&!o&&g&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(r.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},u.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&a(y)?e.token=a(y).split(";")[0]:e.token=e.token||a(b),e.token&&(e.token=e.token.split("_")[0]),l.resolve()},u.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},u.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,r=e.ret;if(r instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(o)}n.maxRetryTimes>0&&(s(y,n.pageDomain,"*"),s(b,n.mainDomain,n.subDomain),s("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=h.TOKEN_EXPIRED}})):void e()},u.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),s=(new Date).getTime(),c=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,f,p,d,h,v,g,m;for(m=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;n>s;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),d=1732584193,h=4023233417,v=2562383102,g=271733878,c=0;c<m.length;c+=16)u=d,l=h,f=v,p=g,d=r(d,h,v,g,m[c+0],7,3614090360),g=r(g,d,h,v,m[c+1],12,3905402710),v=r(v,g,d,h,m[c+2],17,606105819),h=r(h,v,g,d,m[c+3],22,3250441966),d=r(d,h,v,g,m[c+4],7,4118548399),g=r(g,d,h,v,m[c+5],12,1200080426),v=r(v,g,d,h,m[c+6],17,2821735955),h=r(h,v,g,d,m[c+7],22,4249261313),d=r(d,h,v,g,m[c+8],7,1770035416),g=r(g,d,h,v,m[c+9],12,2336552879),v=r(v,g,d,h,m[c+10],17,4294925233),h=r(h,v,g,d,m[c+11],22,2304563134),d=r(d,h,v,g,m[c+12],7,1804603682),g=r(g,d,h,v,m[c+13],12,4254626195),v=r(v,g,d,h,m[c+14],17,2792965006),d=o(d,h=r(h,v,g,d,m[c+15],22,1236535329),v,g,m[c+1],5,4129170786),g=o(g,d,h,v,m[c+6],9,3225465664),v=o(v,g,d,h,m[c+11],14,643717713),h=o(h,v,g,d,m[c+0],20,3921069994),d=o(d,h,v,g,m[c+5],5,3593408605),g=o(g,d,h,v,m[c+10],9,38016083),v=o(v,g,d,h,m[c+15],14,3634488961),h=o(h,v,g,d,m[c+4],20,3889429448),d=o(d,h,v,g,m[c+9],5,568446438),g=o(g,d,h,v,m[c+14],9,3275163606),v=o(v,g,d,h,m[c+3],14,4107603335),h=o(h,v,g,d,m[c+8],20,1163531501),d=o(d,h,v,g,m[c+13],5,2850285829),g=o(g,d,h,v,m[c+2],9,4243563512),v=o(v,g,d,h,m[c+7],14,1735328473),d=i(d,h=o(h,v,g,d,m[c+12],20,2368359562),v,g,m[c+5],4,4294588738),g=i(g,d,h,v,m[c+8],11,2272392833),v=i(v,g,d,h,m[c+11],16,1839030562),h=i(h,v,g,d,m[c+14],23,4259657740),d=i(d,h,v,g,m[c+1],4,2763975236),g=i(g,d,h,v,m[c+4],11,1272893353),v=i(v,g,d,h,m[c+7],16,4139469664),h=i(h,v,g,d,m[c+10],23,3200236656),d=i(d,h,v,g,m[c+13],4,681279174),g=i(g,d,h,v,m[c+0],11,3936430074),v=i(v,g,d,h,m[c+3],16,3572445317),h=i(h,v,g,d,m[c+6],23,76029189),d=i(d,h,v,g,m[c+9],4,3654602809),g=i(g,d,h,v,m[c+12],11,3873151461),v=i(v,g,d,h,m[c+15],16,530742520),d=a(d,h=i(h,v,g,d,m[c+2],23,3299628645),v,g,m[c+0],6,4096336452),g=a(g,d,h,v,m[c+7],10,1126891415),v=a(v,g,d,h,m[c+14],15,2878612391),h=a(h,v,g,d,m[c+5],21,4237533241),d=a(d,h,v,g,m[c+12],6,1700485571),g=a(g,d,h,v,m[c+3],10,2399980690),v=a(v,g,d,h,m[c+10],15,4293915773),h=a(h,v,g,d,m[c+1],21,2240044497),d=a(d,h,v,g,m[c+8],6,1873313359),g=a(g,d,h,v,m[c+15],10,4264355552),v=a(v,g,d,h,m[c+6],15,2734768916),h=a(h,v,g,d,m[c+13],21,1309151649),d=a(d,h,v,g,m[c+4],6,4149444226),g=a(g,d,h,v,m[c+11],10,3174756917),v=a(v,g,d,h,m[c+2],15,718787259),h=a(h,v,g,d,m[c+9],21,3951481745),d=n(d,u),h=n(h,l),v=n(v,f),g=n(g,p);return(s(d)+s(h)+s(v)+s(g)).toLowerCase()}(r.token+"&"+s+"&"+a+"&"+n.data),u={jsv:"2.5.8",appKey:a,t:s,sign:c},l={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===u[e]&&void 0===l[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(u[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){u[e]=n.ext_querys[e]})),r.getJSONP?u.type="jsonp":r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?u.type="originaljsonp":(r.getJSON||r.postJSON)&&(u.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?u.type="jsonp":(r.getJSON||r.postJSON)&&(u.type="json"))),!0===r.useJsonpResultType&&"originaljson"===u.type&&delete u.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),r.querystring=u,r.postdata=l,r.path=i}t()},u.prototype.__processUnitPrefix=function(e){e()};var _=0;u.prototype.__requestJSONP=function(e){function t(e){if(u&&clearTimeout(u),l.parentNode&&l.parentNode.removeChild(l),"TIMEOUT"===e)window[c]=function(){window[c]=void 0;try{delete window[c]}catch(e){}};else{window[c]=void 0;try{delete window[c]}catch(e){}}}var r=n(),i=this.params,a=this.options,s=i.timeout||2e4,c="mtopjsonp"+(i.jsonpIncPrefix||"")+ ++_,u=setTimeout((function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),s);a.querystring.callback=c;var l=document.createElement("script");return l.src=a.path+"?"+o(a.querystring)+"&"+o(a.postdata),l.async=!0,l.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[c]=function(){a.results=Array.prototype.slice.call(arguments),t(),r.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(l),r.promise},u.prototype.__requestJSON=function(t){function r(e){f&&clearTimeout(f),"TIMEOUT"===e&&u.abort()}var i=n(),s=this.params,c=this.options,u=new e.XMLHttpRequest,l=s.timeout||2e4,f=setTimeout((function(){t(c.timeoutErrMsg||"TIMEOUT::接口超时"),r("TIMEOUT")}),l);c.CDR&&a(y)&&(c.querystring.c=decodeURIComponent(a(y))),u.onreadystatechange=function(){if(4==u.readyState){var e,n,o=u.status;if(o>=200&&300>o||304==o){r(),e=u.responseText,n=u.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,c.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else r("ABORT"),t(c.abortErrMsg||"ABORT::接口异常退出")}};var p,d,h=c.path+"?"+o(c.querystring);c.getJSON?(p="GET",h+="&"+o(c.postdata)):c.postJSON&&(p="POST",d=o(c.postdata)),u.open(p,h,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var v=s.ext_headers||s.headers;if(v)for(var g in v)u.setRequestHeader(g,v[g]);return u.send(d),i.promise},u.prototype.__requestWindVane=function(e){function r(e){a.results=[e],o.resolve()}var o=n(),i=this.params,a=this.options,s=i.data,c=i.api,u=i.v,l=a.postJSON?1:0,f=a.getJSON||a.postJSON||a.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?f="originaljson":"string"===i.valueType&&(f="")),!0===a.useJsonpResultType&&(f="");var p,d,h="https"===location.protocol?1:0,v=i.isSec||0,g=i.sessionOption||"AutoLoginOnly",m=i.ecode||0,y=i.ext_headers||{},b=i.ext_querys||{};p=2*(d=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(g="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(v=i.secType);var _={api:c,v:u,post:String(l),type:f,isHttps:String(h),ecode:String(m),isSec:String(v),param:JSON.parse(s),timer:d,sessionOption:g,ext_headers:y,ext_querys:b};return i.ttid&&!0===a.dangerouslySetWVTtid&&(_.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(_,i.dangerouslySetWindvaneParams),t.windvane.call("MtopWVPlugin","send",_,r,r,p),o.promise},u.prototype.__requestAlipay=function(t){var r=n(),o=this.params,a=this.options,s={apiName:o.api,apiVersion:o.v,needEcodeSign:"1"===String(o.ecode),usePost:!!a.postJSON};return i(o.data)||(o.data=JSON.parse(o.data)),s.data=o.data,o.ttid&&!0===a.dangerouslySetWVTtid&&(s.ttid=o.ttid),(a.getJSON||a.postJSON||a.getOriginalJSONP)&&(s.type="originaljson"),void 0!==o.valueType&&("original"===o.valueType?s.type="originaljson":"string"===o.valueType&&delete s.type),!0===a.useJsonpResultType&&delete s.type,Object.assign&&o.dangerouslySetAlipayParams&&Object.assign(s,o.dangerouslySetAlipayParams),e.AlipayJSBridge.call("mtop",s,(function(e){a.results=[e],r.resolve()})),r.promise},u.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return g?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),r=t&&t.ret||[];t.ret=r,r instanceof Array&&(r=r.join(","));var o=t.c;e.CDR&&o&&function(e,t,n){var r=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(r.domain?";domain="+r.domain:"")+(r.path?";path="+r.path:"")+(r.secure?";secure":"")+(r.httponly?";HttpOnly":"")+(r.sameSite?";Samesite="+r.sameSite:"")}(y,o,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),r.indexOf("SUCCESS")>-1?t.retType=h.SUCCESS:t.retType=h.ERROR,e.retJson=t}))},u.prototype.__sequence=function(e){var t=this,r=[],o=[];e.forEach((function e(i){if(i instanceof Array)i.forEach(e);else{var a,s=n(),c=n();r.push((function(){return s=n(),(a=i.call(t,(function(e){return s.resolve(e),c.promise}),(function(e){return s.reject(e),c.promise})))&&(a=a.catch((function(e){s.reject(e)}))),s.promise})),o.push((function(e){return c.resolve(e),a}))}}));for(var i,a=f;i=r.shift();)a=a.then(i);for(;i=o.pop();)a=a.then(i);return a};var w=function(e){e()},S=function(e){e()};u.prototype.request=function(n){var o=this;if(this.options=r(n||{},p),!l){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=l.resolve([w,S]).then((function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])})).then((function(){var e=o.options.retJson;return e.retType!==h.SUCCESS?l.reject(e):o.options.successCallback?void o.options.successCallback(e):l.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:h.ERROR}):n="string"==typeof e?{ret:[e],retJson:h.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,data:o.params.data,v:o.params.v,retJson:n}),o.options.failureCallback?void o.options.failureCallback(n):l.reject(n)}));return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),w=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new u(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new u(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new u(e).request(r)},t.mtop.middlewares=d,t.mtop.config=p,t.mtop.RESPONSE_TYPE=h,t.mtop.CLASS=u}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function r(t,r){var o=this,i=e.dpr||1,a=document.createElement("div"),s=document.documentElement.getBoundingClientRect(),c=Math.max(s.width,window.innerWidth)/i,u=Math.max(s.height,window.innerHeight)/i;a.style.cssText=["-webkit-transform:scale("+i+") translateZ(0)","-ms-transform:scale("+i+") translateZ(0)","transform:scale("+i+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:"+(c>800?"fixed":"absolute"),"left:0","top:0px","background:"+(c>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var l=document.createElement("div");l.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),l.innerText=t;var f=document.createElement("a");f.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),f.innerText="关闭";var p=document.createElement("iframe");p.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),c>800&&(l.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(c/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),p.style.cssText=["position:absolute","top:92px","left:"+(c/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),l.appendChild(f),a.appendChild(l),a.appendChild(p),a.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(a),p.src=r,f.addEventListener("click",(function(){o.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),a.dispatchEvent(e)}),!1),this.addEventListener=function(){a.addEventListener.apply(a,arguments)},this.removeEventListener=function(){a.removeEventListener.apply(a,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),a.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-s.top),a.parentNode&&a.parentNode.removeChild(a)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var o=e.Promise,i=t.mtop.CLASS,a=t.mtop.config,s=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,r=this.options,o=this.params;return e().then((function(){var e=r.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=s.SESSION_EXPIRED,!r.WindVaneRequest&&(!0===a.LoginRequest||!0===r.LoginRequest||!0===o.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==r.safariGoLogin||!u||"taobao.com"===r.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var r={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.antiFloodRequest=function(e,t,n){var r={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==a.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var r={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(r)},t.mtop.middlewares.push((function(t){var n=this,i=this.options,s=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==s.forceAntiCreep&&!0!==i.H5Request||!0!==a.AntiCreep&&!0!==i.AntiCreep?void t():t().then((function(){var t=i.retJson,a=t.ret;if(a instanceof Array&&(a=a.join(",")),(a.indexOf("RGV587_ERROR::SM")>-1||a.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var c="_m_h5_smt",u=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(c),l=!1;if(!0===i.saveAntiCreepToken&&u)for(var f in u=JSON.parse(u))s[f]&&(l=!0);if(!0===i.saveAntiCreepToken&&u&&!l){for(var f in u)s[f]=u[f];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new o((function(o,a){function u(){f.removeEventListener("close",u),e.removeEventListener("message",l),a("USER_INPUT_CANCEL::用户取消输入")}function l(t){var r;try{r=JSON.parse(t.data)||{}}catch(e){}if(r&&"child"===r.type){var p;f.removeEventListener("close",u),e.removeEventListener("message",l),f.hide();try{for(var d in"string"==typeof(p=JSON.parse(decodeURIComponent(r.content)))&&(p=JSON.parse(p)),p)s[d]=p[d];!0===i.saveAntiCreepToken?(document.cookie=c+"="+JSON.stringify(p)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(o)}catch(e){a("USER_INPUT_FAILURE::用户输入失败")}}}var f=new r("",t.data.url);f.addEventListener("close",u,!1),e.addEventListener("message",l,!1),f.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5);!function(e,t){var n=e.Promise,s=(n||{resolve:function(){}}).resolve();function c(){var e={},t=new n((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function u(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function l(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function f(e){return"[object Object]"=={}.toString.call(e)}function p(e,t,n){return o(this,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return[4,a.dbGet("cookieObj")];case 1:return n=i.sent()||{},[2,a.dbSet("cookieObj",r((o={},o[e]=t,o),n))]}}))}))}function d(e){return o(this,void 0,void 0,(function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return[4,a.dbGet("cookieObj")];case 1:return(n=i.sent()||{})[e]?[2,n[e]]:(s=(o=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)")).exec,[4,a.dbGet("cookie")]);case 2:return(r=s.apply(o,[null==(t=i.sent())?void 0:t.cookie]))?[2,r[1]]:[2,""]}}))}))}function h(e,t,n){return o(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,a.dbGet("cookieObj")];case 1:return(t=n.sent()||{})[e]?(delete t[e],[2,a.dbSet("cookieObj",t)]):[2]}}))}))}function v(e,t){for(var n=e.split("."),r=t.split("."),o=0;o<3;o++){var i=Number(n[o]),a=Number(r[o]);if(i>a)return 1;if(a>i)return-1;if(!isNaN(i)&&isNaN(a))return 1;if(isNaN(i)&&!isNaN(a))return-1}return 0}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var g={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},m=[],y={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};!function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var r=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),o=t.match(r)||[],i=o[2]||"taobao.com",a=o[1]||"m";"taobao.net"!==i||"x"!==a&&"waptest"!==a&&"daily"!==a?"taobao.net"===i&&"demo"===a?a="demo":"alibaba-inc.com"===i&&"zebra"===a?a="zebra":"waptest"!==a&&"wapa"!==a&&"m"!==a&&(a="m"):a="waptest";var s="h5api";"taobao.net"===i&&"waptest"===a&&(s="acs"),g.mainDomain=i,g.subDomain=a,g.prefix=s}(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(g.WindVaneVersion=n[1]);var r=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);r&&(g.AliAppName=r[1],g.AliAppVersion=r[2]);var o=t.match(/AMapClient\/([\d\.\_]+)/i);o&&(g.AliAppName="AMAP",g.AliAppVersion=o[1])}();var b=/[Android|Adr]/.test(e.navigator.userAgent),_="AP"===g.AliAppName&&v(g.AliAppVersion,"10.1.2")>=0||"KB"===g.AliAppName&&v(g.AliAppVersion,"7.1.62")>=0||b&&"AMAP"===g.AliAppName&&v(g.AliAppVersion,"1.0.1")>=0,w=0;function S(e){this.id=""+(new Date).getTime()+ ++w,this.params=u(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=m.slice(0)}S.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},S.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},S.prototype.__processRequestType=function(n){var r=this,o=this.params,i=this.options;if(!0===g.H5Request&&(i.H5Request=!0),!0===g.WindVaneRequest&&(i.WindVaneRequest=!0),!1===i.H5Request&&!0===i.WindVaneRequest){if(!_&&(!t.windvane||parseFloat(i.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(_&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===i.H5Request)i.WindVaneRequest=!1;else if(void 0===i.WindVaneRequest&&void 0===i.H5Request){if(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?i.WindVaneRequest=!0:i.H5Request=!0,_){if(i.WindVaneRequest=i.H5Request=void 0,e.AlipayJSBridge)if(f(o.data))i.WindVaneRequest=!0;else try{f(JSON.parse(o.data))?i.WindVaneRequest=!0:i.H5Request=!0}catch(e){i.H5Request=!0}else i.H5Request=!0;"AMAP"!==g.AliAppName||o.useNebulaJSbridgeWithAMAP||(i.WindVaneRequest=i.H5Request=void 0,i.H5Request=!0)}window.self!==window.top&&(i.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();if(a.indexOf("youku")>-1&&i.mainDomain.indexOf("youku.com")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),i.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),n)return n().then((function(){var e=i.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===i.WindVaneRequest&&_&&i.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!_||!isNaN(i.retJson.error)||-1!==i.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return _&&f(o.data)&&(o.data=JSON.stringify(o.data)),g.H5Request=!0,r.__sequence([r.__processRequestType,r.__processToken,r.__processRequestUrl,r.middlewares,r.__processRequest]);void 0===i.retJson.api&&void 0===i.retJson.v&&(i.retJson.api=o.api,i.retJson.v=o.v,i.retJson.ret=[i.retJson.error+"::"+i.retJson.errorMessage],i.retJson.data={})}}))};S.prototype.__getTokenFromAlipay=function(){var t=c(),n=this.options,r=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===n.useAlipayJSBridge&&!r&&_&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(n.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},S.prototype.__getTokenFromCookie=function(){return o(this,void 0,void 0,(function(){var e,t,r,o,a;return i(this,(function(i){switch(i.label){case 0:return e=this.options,(t=e.CDR)?[4,d("_m_h5_c")]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return t?(r=e,[4,d("_m_h5_c")]):[3,4];case 3:return r.token=i.sent().split(";")[0],[3,7];case 4:return o=e,(a=e.token)?[3,6]:[4,d("_m_h5_tk")];case 5:a=i.sent(),i.label=6;case 6:o.token=a,i.label=7;case 7:return e.token&&(e.token=e.token.split("_")[0]),[2,n.resolve()]}}))}))},S.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},S.prototype.__processToken=function(e){var t=this,n=this.options;this.params;if(n.token&&delete n.token,!0!==n.WindVaneRequest)return s.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){return o(this,void 0,void 0,(function(){var e,r,o;return i(this,(function(i){switch(i.label){case 0:return e=n.retJson,(r=e.ret)instanceof Array&&(r=r.join(",")),r.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&r.indexOf("ILLEGAL_ACCESS")>-1||r.indexOf("TOKEN_EXOIRED")>-1?(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes?(o=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest],!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id&&(t.constructor.__cookieProcessor?o=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]:(t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id)),[2,t.__sequence(o)]):[3,1]):[3,6];case 1:return n.maxRetryTimes>0?[4,h("_m_h5_c",n.pageDomain)]:[3,5];case 2:return i.sent(),[4,h("_m_h5_tk",n.mainDomain,n.subDomain)];case 3:return i.sent(),[4,h("_m_h5_tk_enc",n.mainDomain,n.subDomain)];case 4:i.sent(),i.label=5;case 5:e.retType=y.TOKEN_EXPIRED,i.label=6;case 6:return[2]}}))}))}));e()},S.prototype.__processRequestUrl=function(t){var n=this.params,r=this.options;if(r.hostSetting&&r.hostSetting[e.location.hostname]){var o=r.hostSetting[e.location.hostname];o.prefix&&(r.prefix=o.prefix),o.subDomain&&(r.subDomain=o.subDomain),o.mainDomain&&(r.mainDomain=o.mainDomain)}if(!0===r.H5Request){var i="//"+(r.prefix?r.prefix+".":"")+(r.subDomain?r.subDomain+".":"")+r.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===r.subDomain?"4272":"12574478"),s=(new Date).getTime(),c={jsv:"2.5.8",appKey:a,t:s,sign:function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function r(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(r,o,i),a),c)),n(t(e,s),r)}function o(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(r,o,i),a),c)),n(t(e,s),r)}function i(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(r,o,i),a),c)),n(t(e,s),r)}function a(e,r,o,i,a,s,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(r,o,i),a),c)),n(t(e,s),r)}function s(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var c,u,l,f,p,d,h,v,g,m;for(c=function(e){for(var t,n=e.length,r=n+8,o=16*((r-r%64)/64+1),i=new Array(o-1),a=0,s=0;s<n;)a=s%4*8,i[t=(s-s%4)/4]=i[t]|e.charCodeAt(s)<<a,s++;return a=s%4*8,i[t=(s-s%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),h=1732584193,v=4023233417,g=2562383102,m=271733878,u=0;u<c.length;u+=16)l=h,f=v,p=g,d=m,h=r(h,v,g,m,c[u+0],7,3614090360),m=r(m,h,v,g,c[u+1],12,3905402710),g=r(g,m,h,v,c[u+2],17,606105819),v=r(v,g,m,h,c[u+3],22,3250441966),h=r(h,v,g,m,c[u+4],7,4118548399),m=r(m,h,v,g,c[u+5],12,1200080426),g=r(g,m,h,v,c[u+6],17,2821735955),v=r(v,g,m,h,c[u+7],22,4249261313),h=r(h,v,g,m,c[u+8],7,1770035416),m=r(m,h,v,g,c[u+9],12,2336552879),g=r(g,m,h,v,c[u+10],17,4294925233),v=r(v,g,m,h,c[u+11],22,2304563134),h=r(h,v,g,m,c[u+12],7,1804603682),m=r(m,h,v,g,c[u+13],12,4254626195),g=r(g,m,h,v,c[u+14],17,2792965006),h=o(h,v=r(v,g,m,h,c[u+15],22,1236535329),g,m,c[u+1],5,4129170786),m=o(m,h,v,g,c[u+6],9,3225465664),g=o(g,m,h,v,c[u+11],14,643717713),v=o(v,g,m,h,c[u+0],20,3921069994),h=o(h,v,g,m,c[u+5],5,3593408605),m=o(m,h,v,g,c[u+10],9,38016083),g=o(g,m,h,v,c[u+15],14,3634488961),v=o(v,g,m,h,c[u+4],20,3889429448),h=o(h,v,g,m,c[u+9],5,568446438),m=o(m,h,v,g,c[u+14],9,3275163606),g=o(g,m,h,v,c[u+3],14,4107603335),v=o(v,g,m,h,c[u+8],20,1163531501),h=o(h,v,g,m,c[u+13],5,2850285829),m=o(m,h,v,g,c[u+2],9,4243563512),g=o(g,m,h,v,c[u+7],14,1735328473),h=i(h,v=o(v,g,m,h,c[u+12],20,2368359562),g,m,c[u+5],4,4294588738),m=i(m,h,v,g,c[u+8],11,2272392833),g=i(g,m,h,v,c[u+11],16,1839030562),v=i(v,g,m,h,c[u+14],23,4259657740),h=i(h,v,g,m,c[u+1],4,2763975236),m=i(m,h,v,g,c[u+4],11,1272893353),g=i(g,m,h,v,c[u+7],16,4139469664),v=i(v,g,m,h,c[u+10],23,3200236656),h=i(h,v,g,m,c[u+13],4,681279174),m=i(m,h,v,g,c[u+0],11,3936430074),g=i(g,m,h,v,c[u+3],16,3572445317),v=i(v,g,m,h,c[u+6],23,76029189),h=i(h,v,g,m,c[u+9],4,3654602809),m=i(m,h,v,g,c[u+12],11,3873151461),g=i(g,m,h,v,c[u+15],16,530742520),h=a(h,v=i(v,g,m,h,c[u+2],23,3299628645),g,m,c[u+0],6,4096336452),m=a(m,h,v,g,c[u+7],10,1126891415),g=a(g,m,h,v,c[u+14],15,2878612391),v=a(v,g,m,h,c[u+5],21,4237533241),h=a(h,v,g,m,c[u+12],6,1700485571),m=a(m,h,v,g,c[u+3],10,2399980690),g=a(g,m,h,v,c[u+10],15,4293915773),v=a(v,g,m,h,c[u+1],21,2240044497),h=a(h,v,g,m,c[u+8],6,1873313359),m=a(m,h,v,g,c[u+15],10,4264355552),g=a(g,m,h,v,c[u+6],15,2734768916),v=a(v,g,m,h,c[u+13],21,1309151649),h=a(h,v,g,m,c[u+4],6,4149444226),m=a(m,h,v,g,c[u+11],10,3174756917),g=a(g,m,h,v,c[u+2],15,718787259),v=a(v,g,m,h,c[u+9],21,3951481745),h=n(h,l),v=n(v,f),g=n(g,p),m=n(m,d);return(s(h)+s(v)+s(g)+s(m)).toLowerCase()}(r.token+"&"+s+"&"+a+"&"+n.data)},u={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===c[e]&&void 0===u[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(c[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){c[e]=n.ext_querys[e]})),r.getJSONP?c.type="jsonp":r.getOriginalJSONP?c.type="originaljsonp":(r.getJSON||r.postJSON)&&(c.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?r.getJSONP||r.getOriginalJSONP?c.type="originaljsonp":(r.getJSON||r.postJSON)&&(c.type="originaljson"):"string"===n.valueType&&(r.getJSONP||r.getOriginalJSONP?c.type="jsonp":(r.getJSON||r.postJSON)&&(c.type="json"))),!0===r.useJsonpResultType&&"originaljson"===c.type&&delete c.type,r.dangerouslySetProtocol&&(i=r.dangerouslySetProtocol+":"+i),r.querystring=c,r.postdata=u,r.path=i}t()},S.prototype.__processUnitPrefix=function(e){e()};var O=0;S.prototype.__requestJSONP=function(e){var t=c(),n=this.params,r=this.options;function o(e){if(s&&clearTimeout(s),u.parentNode&&u.parentNode.removeChild(u),"TIMEOUT"===e)window[a]=function(){window[a]=void 0;try{delete window[a]}catch(e){}};else{window[a]=void 0;try{delete window[a]}catch(e){}}}var i=n.timeout||2e4,a="mtopjsonp"+(n.jsonpIncPrefix||"")+ ++O,s=setTimeout((function(){e(r.timeoutErrMsg||"TIMEOUT::接口超时"),o("TIMEOUT")}),i);r.querystring.callback=a;var u=document.createElement("script");return u.src=r.path+"?"+l(r.querystring)+"&"+l(r.postdata),u.async=!0,u.onerror=function(){o("ABORT"),e(r.abortErrMsg||"ABORT::接口异常退出")},window[a]=function(){r.results=Array.prototype.slice.call(arguments),o(),t.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(u),t.promise},S.prototype.__requestJSON=function(e){return o(this,void 0,void 0,(function(){function t(e){u&&clearTimeout(u)}var n,o,a,s,u,f,p,h,v,g;return i(this,(function(i){switch(i.label){case 0:return n=c(),o=this.params,a=this.options,s=o.timeout||2e4,u=setTimeout((function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t()}),s),(f=a.CDR)?[4,d("_m_h5_c")]:[3,2];case 1:f=i.sent(),i.label=2;case 2:return f?(p=a.querystring,h=decodeURIComponent,[4,d("_m_h5_c")]):[3,4];case 3:p.c=h.apply(void 0,[i.sent()]),i.label=4;case 4:return v=a.path+"?"+l(a.querystring),a.getJSON&&(g="GET",v+="&"+l(a.postdata)),fetch(v,{method:g,headers:r(r({},o.ext_headers||o.headers),{Accept:"application/json"}),credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(e){var r;t(),(r=e).responseHeaders={},a.results=[r],n.resolve()})).catch((function(n){t(),e(a.abortErrMsg||"ABORT::接口异常退出")})),[2,n.promise]}}))}))},S.prototype.__requestWindVane=function(e){var n=c(),r=this.params,o=this.options,i=r.data,a=r.api,s=r.v,u=o.postJSON?1:0,l=o.getJSON||o.postJSON||o.getOriginalJSONP?"originaljson":"";void 0!==r.valueType&&("original"===r.valueType?l="originaljson":"string"===r.valueType&&(l="")),!0===o.useJsonpResultType&&(l="");var f,p,d="https"===location.protocol?1:0,h=r.isSec||0,v=r.sessionOption||"AutoLoginOnly",g=r.ecode||0,m=r.ext_headers||{},y=r.ext_querys||{};function b(e){o.results=[e],n.resolve()}f=2*(p=void 0!==r.timer?parseInt(r.timer):void 0!==r.timeout?parseInt(r.timeout):2e4),!0===r.needLogin&&void 0===r.sessionOption&&(v="AutoLoginAndManualLogin"),void 0!==r.secType&&void 0===r.isSec&&(h=r.secType);var _={api:a,v:s,post:String(u),type:l,isHttps:String(d),ecode:String(g),isSec:String(h),param:JSON.parse(i),timer:p,sessionOption:v,ext_headers:m,ext_querys:y};return r.ttid&&!0===o.dangerouslySetWVTtid&&(_.ttid=r.ttid),Object.assign&&r.dangerouslySetWindvaneParams&&Object.assign(_,r.dangerouslySetWindvaneParams),t.windvane.call("MtopWVPlugin","send",_,b,b,f),n.promise},S.prototype.__requestAlipay=function(t){var n=c(),r=this.params,o=this.options,i={apiName:r.api,apiVersion:r.v,needEcodeSign:"1"===String(r.ecode),usePost:!!o.postJSON};return f(r.data)||(r.data=JSON.parse(r.data)),i.data=r.data,r.ttid&&!0===o.dangerouslySetWVTtid&&(i.ttid=r.ttid),(o.getJSON||o.postJSON||o.getOriginalJSONP)&&(i.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?i.type="originaljson":"string"===r.valueType&&delete i.type),!0===o.useJsonpResultType&&delete i.type,Object.assign&&r.dangerouslySetAlipayParams&&Object.assign(i,r.dangerouslySetAlipayParams),e.AlipayJSBridge.call("mtop",i,(function(e){o.results=[e],n.resolve()})),n.promise},S.prototype.__processRequest=function(e,t){var n=this;return s.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return _?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){return o(this,void 0,void 0,(function(){var e,t,r,o;return i(this,(function(i){switch(i.label){case 0:return e=n.options,n.params,t=e.results[0],r=t&&t.ret||[],t.ret=r,r instanceof Array&&(r=r.join(",")),o=t.c,e.CDR&&o?[4,p("_m_h5_c",o,(e.pageDomain,e.secure,e.sameSite))]:[3,2];case 1:i.sent(),i.label=2;case 2:return r.indexOf("SUCCESS")>-1?t.retType=y.SUCCESS:t.retType=y.ERROR,e.retJson=t,[2]}}))}))}))},S.prototype.__sequence=function(e){var t=this,n=[],r=[];e.forEach((function e(o){if(o instanceof Array)o.forEach(e);else{var i,a=c(),s=c();n.push((function(){return a=c(),(i=o.call(t,(function(e){return a.resolve(e),s.promise}),(function(e){return a.reject(e),s.promise})))&&(i=i.catch((function(e){a.reject(e)}))),a.promise})),r.push((function(e){return s.resolve(e),i}))}}));for(var o,i=s;o=n.shift();)i=i.then(o);for(;o=r.pop();)i=i.then(o);return i};var T=function(e){e()},E=function(e){e()};S.prototype.request=function(r){var o=this;if(this.options=u(r||{},g),!n){var i="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:i},new Error(i)}var a=n.resolve([T,E]).then((function(e){var t=e[0],n=e[1];return o.__sequence([t,o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,n])})).then((function(){var e=o.options.retJson;return e.retType!==y.SUCCESS?n.reject(e):o.options.successCallback?void o.options.successCallback(e):n.resolve(e)})).catch((function(e){var r;if(e instanceof Error?(console.error(e.stack),r={ret:[e.message],stack:[e.stack],retJson:y.ERROR}):r="string"==typeof e?{ret:[e],retJson:y.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,data:o.params.data,v:o.params.v,retJson:r}),!o.options.failureCallback)return n.reject(r);o.options.failureCallback(r)}));return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=a),T=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(r.pageDomain=r.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),r.mainDomain!==r.pageDomain&&(r.maxRetryTimes=4,r.CDR=!0)),this.__requestProcessor=a,a},t.mtop=function(e){return new S(e)},t.mtop.request=function(e,t,n){var r={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new S(e).request(r)},t.mtop.H5Request=function(e,t,n){var r={H5Request:!0,successCallback:t,failureCallback:n||t};return new S(e).request(r)},t.mtop.middlewares=m,t.mtop.config=g,t.mtop.RESPONSE_TYPE=y,t.mtop.CLASS=S}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return!!(r.Android()||r.BlackBerry()||r.iOS()||r.Opera()||r.Windows())}};t.default=r},function(e,t,n){"use strict";n.r(t);var r,o=n(3),i=n.n(o),a=n(4),s=n(0),c=n(2),u=n(1),l=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),f=new c.ErrorFactory("installations","Installations",l);function p(e){return e instanceof c.FirebaseError&&e.code.includes("request-failed")}function d(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function h(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function v(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.json()];case 1:return n=o.sent(),r=n.error,[2,f.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function g(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function m(e,t){var n=t.refreshToken,r=g(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function y(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function b(e,t){var n=t.fid;return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,r,o,i,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return t=d(e),r=g(e),o={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.14"},i={method:"POST",headers:r,body:JSON.stringify(o)},[4,y((function(){return fetch(t,i)}))];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:return c=s.sent(),[2,{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:h(c.authToken)}];case 3:return[4,v("Create Installation",a)];case 4:throw s.sent()}}))}))}function _(e){return new Promise((function(t){setTimeout(t,e)}))}var w=/^[cdef][\w-]{21}$/;function S(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(s.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return w.test(t)?t:""}catch(e){return""}}function O(e){return e.appName+"!"+e.appId}var T=new Map;function E(e,t){var n=O(e);A(n,t),function(e,t){var n=k();n&&n.postMessage({key:e,fid:t});x()}(n,t)}function A(e,t){var n,r,o=T.get(e);if(o)try{for(var i=Object(s.__values)(o),a=i.next();!a.done;a=i.next()){(0,a.value)(t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var C=null;function k(){return!C&&"BroadcastChannel"in self&&((C=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){A(e.data.key,e.data.fid)}),C}function x(){0===T.size&&C&&(C.close(),C=null)}var R,P,N="firebase-installations-store",I=null;function D(){return I||(I=Object(u.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(N)}}))),I}function j(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=O(e),[4,D()];case 1:return r=s.sent(),o=r.transaction(N,"readwrite"),[4,(i=o.objectStore(N)).get(n)];case 2:return a=s.sent(),[4,i.put(t,n)];case 3:return s.sent(),[4,o.complete];case 4:return s.sent(),a&&a.fid===t.fid||E(e,t.fid),[2,t]}}))}))}function M(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return t=O(e),[4,D()];case 1:return n=o.sent(),[4,(r=n.transaction(N,"readwrite")).objectStore(N).delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function L(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=O(e),[4,D()];case 1:return r=s.sent(),o=r.transaction(N,"readwrite"),[4,(i=o.objectStore(N)).get(n)];case 2:return a=s.sent(),void 0!==(c=t(a))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(c,n)];case 5:s.sent(),s.label=6;case 6:return[4,o.complete];case 7:return s.sent(),!c||a&&a.fid===c.fid||E(e,c.fid),[2,c]}}))}))}function B(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,L(e,(function(n){var r=function(e){return V(e||{fid:S(),registrationStatus:0})}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(f.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,b(e,t)];case 1:return n=o.sent(),[2,j(e,n)];case 2:return p(r=o.sent())&&409===r.serverCode?[4,M(e)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,j(e,{fid:t.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,r);return{installationEntry:r,registrationPromise:o}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:q(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function q(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,F(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,_(100)];case 3:return i.sent(),[4,F(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,B(e)];case 6:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,t]}}))}))}function F(e){return L(e,(function(e){if(!e)throw f.create("installation-not-found");return V(e)}))}function V(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function H(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,o,i,a,c,u,l;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return e=function(e,t){var n=t.fid;return d(e)+"/"+n+"/authTokens:generate"}(n,t),o=m(n,t),(i=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",i.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.14"}},c={method:"POST",headers:o,body:JSON.stringify(a)},[4,y((function(){return fetch(e,c)}))];case 1:return(u=s.sent()).ok?[4,u.json()]:[3,3];case 2:return l=s.sent(),[2,h(l)];case 3:return[4,v("Generate Auth Token",u)];case 4:throw s.sent()}}))}))}function U(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,L(e.appConfig,(function(r){if(!J(r))throw f.create("not-registered");var o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(o))return r;if(1===o.requestStatus)return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,W(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,_(100)];case 3:return o.sent(),[4,W(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,U(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw f.create("app-offline");var i=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(s.__assign)(Object(s.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,8]),[4,H(e,t)];case 1:return n=i.sent(),o=Object(s.__assign)(Object(s.__assign)({},t),{authToken:n}),[4,j(e.appConfig,o)];case 2:return i.sent(),[2,n];case 3:return!p(r=i.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,M(e.appConfig)];case 4:return i.sent(),[3,7];case 5:return o=Object(s.__assign)(Object(s.__assign)({},t),{authToken:{requestStatus:0}}),[4,j(e.appConfig,o)];case 6:i.sent(),i.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,i),i}))];case 1:return r=i.sent(),n?[4,n]:[3,3];case 2:return o=i.sent(),[3,4];case 3:o=r.authToken,i.label=4;case 4:return[2,o]}}))}))}function W(e){return L(e,(function(e){if(!J(e))throw f.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?Object(s.__assign)(Object(s.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function J(e){return void 0!==e&&2===e.registrationStatus}function G(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,B(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function K(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return d(e)+"/"+n}(e,t),r=m(e,t),o={method:"DELETE",headers:r},[4,y((function(){return fetch(n,o)}))];case 1:return(i=a.sent()).ok?[3,3]:[4,v("Delete Installation",i)];case 2:throw a.sent();case 3:return[2]}}))}))}function z(e,t){var n=e.appConfig;return function(e,t){k();var n=O(e),r=T.get(n);r||(r=new Set,T.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=O(e),r=T.get(n);r&&(r.delete(t),0===r.size&&T.delete(n),x())}(n,t)}}function X(e){return f.create("missing-app-config-values",{valueName:e})}(R=i.a).INTERNAL.registerComponent(new a.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw X("App Configuration");if(!e.name)throw X("App Name");try{for(var r=Object(s.__values)(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var i=o.value;if(!e.options[i])throw X(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,B(e.appConfig)];case 1:return t=o.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):U(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,G(e.appConfig)];case 1:return n.sent(),[4,U(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,L(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw f.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw f.create("app-offline");case 3:return[4,K(t,n)];case 4:return r.sent(),[4,M(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return z(n,e)}}}),"PUBLIC")),R.registerVersion("@firebase/installations","0.4.14");var Y=((P={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',P["only-available-in-window"]="This method is available in a Window context.",P["only-available-in-sw"]="This method is available in a service worker context.",P["permission-default"]="The notification permission was not granted and dismissed instead.",P["permission-blocked"]="The notification permission was not granted and blocked instead.",P["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",P["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",P["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",P["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",P["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",P["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",P["token-update-no-token"]="FCM returned no token when updating the user to push.",P["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",P["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",P["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",P["invalid-vapid-key"]="The public VAPID key must be a string.",P["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",P),$=new c.ErrorFactory("messaging","Messaging",Y);function Z(e){return $.create("missing-app-config-values",{valueName:e})}var Q,ee="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function te(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(s.__spread)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ne(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Q||(Q={}));function re(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];o.label=2;case 2:return n=null,[4,Object(u.openDb)("fcm_token_details_db",5,(function(t){return Object(s.__awaiter)(r,void 0,void 0,(function(){var r,o,i,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return o=s.sent(),[4,r.clear()];case 2:if(s.sent(),!o)return[2];if(2===t.oldVersion){if(!(i=o).auth||!i.p256dh||!i.endpoint)return[2];n={token:i.fcmToken,createTime:null!==(a=i.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:te(i.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(i=o).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:te(i.auth),p256dh:te(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:te(i.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,Object(u.deleteDb)("fcm_token_details_db")];case 4:return o.sent(),[4,Object(u.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,Object(u.deleteDb)("undefined")];case 6:return o.sent(),[2,oe(n)?n:null]}}))}))}function oe(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var ie=null;function ae(){return ie||(ie=Object(u.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}}))),ie}function se(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return t=le(e),[4,ae()];case 1:return[4,o.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=o.sent())?[2,n]:[3,3];case 3:return[4,re(e.appConfig.senderId)];case 4:return(r=o.sent())?[4,ce(e,r)]:[3,6];case 5:return o.sent(),[2,r];case 6:return[2]}}))}))}function ce(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return n=le(e),[4,ae()];case 1:return r=i.sent(),[4,(o=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return i.sent(),[4,o.complete];case 3:return i.sent(),[2,t]}}))}))}function ue(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return t=le(e),[4,ae()];case 1:return n=o.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return o.sent(),[4,r.complete];case 3:return o.sent(),[2]}}))}))}function le(e){return e.appConfig.appId}function fe(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,ve(e)];case 1:n=s.sent(),r=ge(t),o={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(he(e.appConfig),o)];case 3:return[4,s.sent().json()];case 4:return i=s.sent(),[3,6];case 5:throw a=s.sent(),$.create("token-subscribe-failed",{errorInfo:a});case 6:if(i.error)throw c=i.error.message,$.create("token-subscribe-failed",{errorInfo:c});if(!i.token)throw $.create("token-subscribe-no-token");return[2,i.token]}}))}))}function pe(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,ve(e)];case 1:n=s.sent(),r=ge(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(he(e.appConfig)+"/"+t.token,o)];case 3:return[4,s.sent().json()];case 4:return i=s.sent(),[3,6];case 5:throw a=s.sent(),$.create("token-update-failed",{errorInfo:a});case 6:if(i.error)throw c=i.error.message,$.create("token-update-failed",{errorInfo:c});if(!i.token)throw $.create("token-update-no-token");return[2,i.token]}}))}))}function de(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,ve(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(he(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((o=s.sent()).error)throw i=o.error.message,$.create("token-unsubscribe-failed",{errorInfo:i});return[3,6];case 5:throw a=s.sent(),$.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function he(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function ve(e){var t=e.appConfig,n=e.installations;return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function ge(e){var t=e.p256dh,n=e.auth,r=e.endpoint,o=e.vapidKey,i={web:{endpoint:r,auth:n,p256dh:t}};return o!==ee&&(i.web.applicationPubKey=o),i}function me(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw $.create("permission-blocked");return[4,we(t,n)];case 1:return r=s.sent(),[4,se(e)];case 2:return o=s.sent(),i={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:te(r.getKey("auth")),p256dh:te(r.getKey("p256dh"))},o?[3,3]:[2,_e(e,i)];case 3:if(c=o.subscriptionOptions,l=(u=i).vapidKey===c.vapidKey,f=u.endpoint===c.endpoint,p=u.auth===c.auth,d=u.p256dh===c.p256dh,l&&f&&p&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,de(e,o.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,_e(e,i)];case 8:return Date.now()>=o.createTime+6048e5?[2,be({token:o.token,createTime:Date.now(),subscriptionOptions:i},e,t)]:[2,o.token];case 9:return[2]}var c,u,l,f,p,d}))}))}function ye(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,se(e)];case 1:return(n=o.sent())?[4,de(e,n.token)]:[3,4];case 2:return o.sent(),[4,ue(e)];case 3:o.sent(),o.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=o.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function be(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,o,i;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,pe(t,e)];case 1:return r=a.sent(),o=Object(s.__assign)(Object(s.__assign)({},e),{token:r,createTime:Date.now()}),[4,ce(t,o)];case 2:return a.sent(),[2,r];case 3:return i=a.sent(),[4,ye(t,n)];case 4:throw a.sent(),i;case 5:return[2]}}))}))}function _e(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,fe(e,t)];case 1:return n=o.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,ce(e,r)];case 2:return o.sent(),[2,r.token]}}))}))}function we(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ne(t)})]}}))}))}function Se(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}var Oe=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return this.vapidKey||(this.vapidKey=ee),[4,this.getServiceWorkerRegistration()];case 1:return e=t.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:t.sent(),t.label=3;case 3:if("granted"!==Notification.permission)throw $.create("permission-blocked");return[2,me(this.firebaseDependencies,e,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return e=t.sent(),[2,ye(this.firebaseDependencies,e)]}}))}))},e.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?$.create("permission-blocked"):$.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw $.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw $.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw $.create("invalid-sw-registration");if(this.swRegistration)throw $.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw $.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.getServiceWorkerRegistration=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw t=n.sent(),$.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 4:return[2,this.swRegistration]}}))}))},e.prototype.messageEventListener=function(e){var t;return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return(null===(t=e.data)||void 0===t?void 0:t.firebaseMessaging)?(n=e.data.firebaseMessaging,r=n.type,o=n.payload,this.onMessageCallback&&r===Q.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(o):this.onMessageCallback.next(o)),Se(i=o.data)&&"1"===i["google.c.a.e"]?[4,this.logEvent(r,i)]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},e.prototype.logEvent=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Q.NOTIFICATION_CLICKED:return"notification_open";case Q.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();var Te=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw $.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.getToken=function(){var e,t;return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,se(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ee,r.label=2;case 2:return[2,me(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return ye(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw $.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw $.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw $.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw $.create("only-available-in-window")},e.prototype.onMessage=function(){throw $.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw $.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,Ce()]:[2];case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Ae(n,t)]:(r=function(e){var t;if(!e||"object"!=typeof e.notification)return;var n=Object(s.__assign)({},e.notification);return n.data=Object(s.__assign)(Object(s.__assign)({},e.notification.data),((t={}).FCM_MSG=e,t)),n}(t))?[4,xe(r)]:[3,3];case 2:return o.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(s.__awaiter)(this,void 0,void 0,(function(){var r;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return e.newSubscription?[3,2]:[4,ye(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,se(this.firebaseDependencies)];case 3:return r=o.sent(),[4,ye(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,me(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ee)];case 5:return o.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(o=function(e){var t,n,r,o=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(o)return o;return Se(e.data)?self.location.origin:null}(r))?[4,Ee(o)]:[2]):[2];case 1:return(i=s.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return i=s.sent(),[4,(c=3e3,new Promise((function(e){setTimeout(e,c)})))];case 3:return s.sent(),[3,6];case 4:return[4,i.focus()];case 5:i=s.sent(),s.label=6;case 6:return i?(a=ke(Q.NOTIFICATION_CLICKED,r),[2,i.postMessage(a)]):[2]}var c}))}))},e}();function Ee(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,c;return Object(s.__generator)(this,(function(u){switch(u.label){case 0:return t=new URL(e,self.location.href),[4,Ce()];case 1:n=u.sent();try{for(r=Object(s.__values)(n),o=r.next();!o.done;o=r.next())if(i=o.value,new URL(i.url,self.location.href).host===t.host)return[2,i]}catch(e){a={error:e}}finally{try{o&&!o.done&&(c=r.return)&&c.call(r)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Ae(e,t){var n,r,o=ke(Q.PUSH_RECEIVED,t);try{for(var i=Object(s.__values)(e),a=i.next();!a.done;a=i.next()){a.value.postMessage(o)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ce(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function ke(e,t){return{firebaseMessaging:{type:e,payload:t}}}function xe(e){var t,n=null!==(t=e.title)&&void 0!==t?t:"",r=e.actions,o=Notification.maxActions;return r&&o&&r.length>o&&console.warn("This browser only supports "+o+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,e)}var Re={isSupported:Pe};function Pe(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.a.INTERNAL.registerComponent(new a.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw Z("App Configuration Object");if(!e.name)throw Z("App Name");var r=e.options;try{for(var o=Object(s.__values)(["projectId","apiKey","appId","messagingSenderId"]),i=o.next();!i.done;i=o.next()){var a=i.value;if(!r[a])throw Z(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Pe())throw $.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Te(n):new Oe(n)}),"PUBLIC").setServiceProps(Re))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(7);var r=n(8),o=n(24);r.default(o.default)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(25),a=n(26),s=n(21),c={platform:"aliExpress",firebase:{apiKey:"AIzaSyCR01Cfi-I1RN_-RPCewHuvMvgqcRbcnms",authDomain:"ae-webpush.firebaseapp.com",databaseURL:"https://ae-webpush.firebaseio.com",projectId:"ae-webpush",storageBucket:"ae-webpush.appspot.com",messagingSenderId:"146596228970",appId:"1:146596228970:web:7fb25cf8c099892672bf13",measurementId:"G-7K1NDK3YJC"},publicKey:"BIGeWzIKODFi_GHGhLIeDL0fJbn5Zafo7g-i5ZBBTKKm0mqhi2Trsm2jYdgC16oWZTteMpliALI9J1kXtWL9KFQ",swref:"./sw.js",pathnames:["","/"],api:{saveDeviceInfo:a.fetchDeviceInfo,deviceFind:a.findDeviceInfo,log:a.log},isPc:Number(!s.default.any()),getToken:function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,i.getToken()];case 1:return[2,e.sent()]}}))}))}};t.default=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=void 0;var i=n(16);t.getToken=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){i.getV18((function(t){e(t)}))}))];case 1:return[2,e.sent()]}}))}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.logFromCached=t.log=t.findDeviceInfo=t.fetchDeviceInfo=void 0;var a=n(18),s=n(5);t.fetchDeviceInfo=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,a.requestMtop({api:"mtop.global.ug.webpush.devicetoken.save",type:"GET",data:e})];case 1:return[2,t.sent()]}}))}))},t.findDeviceInfo=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,a.requestMtop({api:"mtop.global.ug.webpush.devicetoken.find",type:"GET",data:e})];case 1:return[2,t.sent()]}}))}))},t.log=function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,a.requestMtop({api:"mtop.global.ug.webpush.msg.report.back",type:"GET",data:e}).then((function(){t.logFromCached()})).catch((function(t){return r(void 0,void 0,void 0,(function(){var n,r,a;return o(this,(function(o){switch(o.label){case 0:return(null===(a=null===(r=null==t?void 0:t.ret)||void 0===r?void 0:r.join(","))||void 0===a?void 0:a.indexOf("令牌为空"))>=0?[4,s.dbGet("cachedlog")]:[3,4];case 1:return(n=o.sent())&&n.length<100?[4,s.dbSet("cachedlog",i(n,[e]))]:[3,3];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:throw t;case 5:return[2]}}))}))}))];case 1:return[2,n.sent()]}}))}))},t.logFromCached=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,s.dbGet("cachedlog")];case 1:return(e.sent()||[]).forEach((function(e){a.requestMtop({api:"mtop.global.ug.webpush.msg.report.back",type:"GET",data:e}).catch((function(){}))})),s.dbSet("cachedlog",[]),[2]}}))}))}}]);